{% extends 'users/header.html' %} {% block content %}


<style>
.card0 {
    background-color: #F5F5F5;
    border-radius: 8px;
    z-index: 0
}

.card00 {
    z-index: 0
}

.card1 {
    margin-left: 140px;
    z-index: 0;
    border-right: 1px solid #F5F5F5
}

.card2 {
    display: none

}

.card2.show {
    display: block;
    margin-top:30px;
}
.sec{
    border:5px solid  black;
    box-shadow: 2px 5px grey;
    z-index: 99;
}

.main{
    height:140px;
    border-top-left-radius: 35px;
    border-top-right-radius: 35px;
    
    position:relative;
    
    background-image: url(https://i.ibb.co/RBLY65f/beach-g9a5740bbe-1920.jpg);
    background-size:     cover;                      /* <------ */
    background-repeat:   no-repeat;
    background-position: center center;
}
.top_background {
    
    height:150px;
    width: 100%;
    border : 2px solid green;
  
}
.social {
    border-radius: 50%;
    background-color: #FFCDD2;
    color: #E53935;
    height: 47px;
    width: 47px;
    padding-top: 16px;
    cursor: pointer
}


input,
select {
    padding: 2px;
    border-radius: 0px;
    box-sizing: border-box;
    color: #9E9E9E;
    border: 1px solid #BDBDBD;
    font-size: 16px;
    letter-spacing: 1px;
    height: 50px !important
}

select {
    width: 100%;
    margin-bottom: 85px
}

input:focus,
select:focus {
    -moz-box-shadow: none !important;
    -webkit-box-shadow: none !important;
    box-shadow: none !important;
    border: 1px solid #E53935 !important;
    outline-width: 0 !important
}

.custom-checkbox .custom-control-input:checked~.custom-control-label::before {
    background-color: #E53935
}

.form-group {
    position: relative;
    margin-bottom: 1.5rem;
    width: 77%
}

.form-control-placeholder {
    position: absolute;
    top: 0px;
    padding: 12px 2px 0 2px;
    transition: all 300ms;
    opacity: 0.5
}

.form-control:focus+.form-control-placeholder,
.form-control:valid+.form-control-placeholder {
    font-size: 95%;
    top: 10px;
    transform: translate3d(0, -100%, 0);
    opacity: 1;
    background-color: #fff
}

.next-button {
    width: 18%;
    height: 50px;
    background-color: #BDBDBD;
    color: #fff;
    border-radius: 6px;
    padding: 10px;
    cursor: pointer
}

.next-button:hover {
    background-color: #E53935;
    color: #fff
}

.get-bonus {
    margin-left: 154px
}

.pic {
    width: 230px;
    height: 110px
}

#progressbar {
    position: absolute;
    left: 35px;
    overflow: hidden;
    color: #E53935
}

#progressbar li {
    list-style-type: none;
    font-size: 8px;
    font-weight: 400;
    margin-bottom: 36px
}

#progressbar li:nth-child(6) {
    margin-bottom: 88px
}

#progressbar .step0:before {
    content: "";
    color: #fff
}

#progressbar li:before {
    width: 30px;
    height: 30px;
    line-height: 30px;
    display: block;
    font-size: 20px;
    background: #fff;
    border: 2px solid #E53935;
    border-radius: 50%;
    margin: auto
}

#progressbar li:last-child:before {
    width: 40px;
    height: 40px
}

#progressbar li:after {
    content: '';
    width: 3px;
    height: 100px;
    background: #BDBDBD2e;
    position: absolute;
    left: 58px;
   
    z-index: -1
}
#progressbar li:last-child:after {
    top: 147px;
    height: 132px
}

#progressbar li:nth-child(3):after {
    top: 81px
}

#progressbar li:nth-child(2):after {
    top: 0px
}

#progressbar li:first-child:after {
    position: absolute;
    top: -81px
}

#progressbar li.active:after {
    background: #E53935
}

#progressbar li.active:before {
    background: #E53935;
    font-family: Lato;
    content: "\f00c"
}

.tick {
    width: 100px;
    height: 100px
}

.prev {
    display: block;
    position: absolute;
    left: 40px;
    top: 20px;
    cursor: pointer
}

.prev:hover {
    color: #D50000 !important
}

@media screen and (max-width: 912px) {
    .card00 {
        padding-top: 30px
    }

    .card1 {
        border: none;
        margin-left: 50px
    }

    .card2 {
        border-bottom: 1px solid #F5F5F5;
        margin-bottom: 25px
    }

    .social {
        height: 30px;
        width: 30px;
        font-size: 15px;
        padding-top: 8px;
        margin-top: 7px
    }

    .get-bonus {
        margin-top: 40px !important;
        margin-left: 75px
    }

    #progressbar {
        left: -25px
    }
    
}
.group {
    display: flex;
    align-items: center;
    margin-bottom: 2em;
    color:#0072bc;
    margin-top: 50px;
    margin-bottom: 20px;
}
input[type="checkbox"], input[type="radio"] {
    position: absolute;
    opacity: 0;
    z-index: -1;
}
label {
    position: relative;
    margin-right: 1em;
    padding-left: 2em;
    padding-right: 1em;
    line-height: 2;
    cursor: pointer;
}

.tiny {
    position: relative;
    margin-right: 1em;
    padding-left: 2em;
    padding-right: 1em;
    line-height: 1;
    font-size: 0.8rem;
    cursor: pointer;
}


label:before {
    box-sizing: border-box;
    content: " ";
    position: absolute;
    top: 0.3em;
    left: 0;
    display: block;
    width: 1.5em;
    height: 1.5em;
    border: 2px solid #0072bc;
    border-radius: 0.25em;
    z-index: -1;
}
input[type="radio"] + label::before {
    border-radius: 1em;
}
/* Checked */
input[type="checkbox"]:checked + label, input[type="radio"]:checked + label {
    padding-left: 1em;
    color: #fff;
}
input[type="checkbox"]:checked + label:before, input[type="radio"]:checked + label:before {
    top: 0;
    width: 100%;
    height: 2em;
    background: #0072bc;
}
/* Transition */
label, label::before {
    -webkit-transition: 0.25s all ease;
    -o-transition: 0.25s all ease;
    transition: 0.25s all ease;
}

h1 {
    font-weight: bold;
    margin: 0;
    text-align: left;
    color: #9e283f;
}



.card_column {
  float: left;
  width: 25%;
  padding: 0 10px;
}

/* Remove extra left and right margins, due to padding in columns */
.card_row {margin: 0 -5px;
  margin-top: 10px;
  margin-bottom: 10px;
}

/* Clear floats after the columns */
.card_row:after {
  content: "";
  display: table;
  clear: both;
}

/* Style the counter cards */
.card {
  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2); /* this adds the "card" effect */
  padding: 16px;
  text-align: center;
  background-color: #f1f1f1;
}

.result_list {
  font-size: 13px;
  
}

@keyframes spin {
              from {
                transform: rotate(0);
              }
              to{
                transform: rotate(359deg);
              }
            }
            
            @keyframes spin3D {
              from {
                transform: rotate3d(.5,.5,.5, 360deg);
              }
              to{
                transform: rotate3d(0deg);
              }
            }
            
            @keyframes configure-clockwise {
              0% {
                transform: rotate(0);
              }
              25% {
                transform: rotate(90deg);
              }
              50% {
                transform: rotate(180deg);
              }
              75% {
                transform: rotate(270deg);
              }
              100% {
                transform: rotate(360deg);
              }
            }
            
            @keyframes configure-xclockwise {
              0% {
                transform: rotate(45deg);
              }
              25% {
                transform: rotate(-45deg);
              }
              50% {
                transform: rotate(-135deg);
              }
              75% {
                transform: rotate(-225deg);
              }
              100% {
                transform: rotate(-315deg);
              }
            }
            
            @keyframes pulse {
              from {
                opacity: 1;
                transform: scale(1);
              }
              to {
                opacity: .25;
                transform: scale(.75);
              }
            }
            
            /* GRID STYLING */
            
            * {
              box-sizing: border-box;
            }
            
            body {
              min-height: 100vh;
             
            }
            
            .spinner-box {
              width: 300px;
              height: 300px;
              display: flex;
              justify-content: center;
              align-items: center;
              background-color: transparent;
            }
            
            /* SPINNING CIRCLE */
            
            .leo-border-1 {
              position: absolute;
              width: 150px;
              height: 150px;
              padding: 3px;
              display: flex;
              justify-content: center;
              align-items: center;
              border-radius: 50%;
              background: rgb(63,249,220);
              background: linear-gradient(0deg, rgba(63,249,220,0.1) 33%, rgb(16, 129, 204) 100%);
              animation: spin3D 1.8s linear 0s infinite;
            }
            
            .leo-core-1 {
              width: 100%;
              height: 100%;
              background-color: #37474faa;
              border-radius: 50%;
            }
            
            .leo-border-2 {
              position: absolute;
              width: 150px;
              height: 150px;
              padding: 3px;
              display: flex;
              justify-content: center;
              align-items: center;
              border-radius: 50%;
              background: rgb(251, 91, 83);
              background: linear-gradient(0deg, rgba(251, 91, 83, 0.1) 33%, rgb(190, 51, 26) 100%);
              animation: spin3D 2.2s linear 0s infinite;
            }
            
            .leo-core-2 {
              width: 100%;
              height: 100%;
              background-color: #1d2630aa;
              border-radius: 50%;
            }
            li{
  color: #2c3e50;
  font-size: 18px;
  line-height: 30px;
  text-align: justify;
  letter-spacing: 1px;
  font-family: Lato;
}
/*SG = style grid*/
.SG{
  margin: 0;
  padding: 100px 100px;
  margin-left: 100px;
  text-align: center;
  display: -ms-flexbox;

}
.SG .sgLi{
  min-width: 400px;
  text-align: center;
  margin: 2% .35%;
  display: inline-flex;
  box-shadow: 0 2px 4px rgba(0,0,0, .2);
}
.SG .sgLi:hover{
  box-shadow:0 5px 10px rgba(0,0,0,.15);}
.SG .box{
  width: 100%;
  height: 350px;
  padding: 1% 2%;
  background: rgba(221, 212, 212, 0.74);
  min-height: 200px;
 
  box-sizing: border-box;
}
/*Styles */
.df{list-style-type: disc;}
.s1{list-style-type: square;}
.s2{list-style-type: circle;}
.s3{list-style-type: decimal;}
.s4{list-style-type: decimal-leading-zero;}
.s5{list-style-type: lower-alpha;}
.s6{list-style-type: upper-alpha;}
.s7{list-style-type: lower-roman;}
.s8{list-style-type: upper-roman;}
.s9{list-style-type: lower-greek;}
.s10{list-style-type: georgian;}
.s11{list-style-type: hebrew;}
.s12{list-style-type: hiragana;}
.s13{list-style-type: hiragana-iroha;}
.s14{list-style-type: katakana;}
.s15{list-style-type: katakana-iroha;}
.s16{list-style-type: cjk-ideographic;}
.s17{list-style-image: url(//goo.gl/L3tqpe);}
.s18{list-style: none;}
.s18 li:before{
  content: '';
  width: 20px;
  height: 20px;
  margin-right: 15px;
  display: inline-block;
  background: url(//goo.gl/lcPSVD);
  background-position: 50%;
}
.s19{list-style: none;}
.s19 li:before{
  content: '\f0a9';
  margin-right: 15px;
  font-family: Lato;
}

/* responsive grid*/
@media (max-width: 970px){
  .SG .sgLi{width: 180px;}}
@media (max-width: 425px){
  .SG .sgLi{width: 100%;}
}
   

</style>

<div class="container-fluid px-1 px-md-4 py-5 mx-auto" >
	<div class="row d-flex  " >
		
		<div class="col-12 col-md-11 col-lg-10 col-xl-9 " id ='qwerty' style ='display: block;'>
			<div class ='main' >

			</div>
            <form action="/" method="POST" id="post-form" style='all:unset'>

			<div class="card card0 border-0  sec">
				<div class="row">
					<div class="col-12 ">
						<div class="card card00 m-2 border-0">
							<div class="row text-center justify-content-center px-3">
								<p class="prev text-danger"><span class="fa fa-long-arrow-left"> Go Back</span></p id="back">
							   
							</div>
							<div class="d-flex flex-md-row px-3 mt-4 flex-column-reverse">
								<div class="col-md-3">
									<div class="card1">
										<ul id="progressbar" class="text-center">
											<li class="active step0"></li>
											<li class="step0"></li>
											<li class="step0"></li>
											<li class="step0"></li>
											<li class="step0"></li>
											<li class="step0"></li>
											<li class="step0"></li>
											

										</ul>
										<h6 class="mb-5">Location</h6>
										<h6 class="mb-5">Dates</h6>
										<h6 class="mb-5">Occassion</h6>
										<h6 class="mb-5">Travellers</h6>
										<h6 class="mb-5">Budget</h6>
										<h6 class="mb-5">Activities</h6>
										
										
										
									</div>
								</div>
								<div class="col-md-9">
									<div class="card2 first-screen show ml-2" style='margin-top:50px'>
										<div class="row text-center px-3 mr-2">
											<h1> Where would you like to go?</h1>
											<!-- <div class="mb-2 col-2"> <span class="fa fa-reddit social"></span> </div>
											<div class="mb-2 col-2"> <span class="fa fa-facebook social"></span> </div>
											<div class="mb-2 col-2"> <span class="fa fa-linkedin social"></span> </div>
											<div class="mb-2 col-2"> <span class="fa fa-google-plus social"></span> </div>
											<div class="mb-2 col-2"> <span class="fa fa-twitter social"></span> </div>
											<div class="mb-2 col-2"> <span class="fa fa-dropbox social"></span> </div> -->
										</div>
										<div class="row px-3 mt-4">
											<div class="form-group mt-1 mb-1"> <input type="text" id="province" class="form-control" required> <span class="ml-3 form-control-placeholder" for="province">Destination</span> </div>
											<div class="next-button text-center mt-1 ml-2" > <span class="fa fa-arrow-right"></span> </div>
										</div>
										<div class="row px-3 mt-1 mb-5">
											<div class="custom-control custom-checkbox"> <input checked id="customCheck1" type="checkbox" class="custom-control-input"> <label for="customCheck1" class="custom-control-label">I am not sure of my destination</label> </div>
										</div>
									</div>
									<div class="card2 ml-2">
										<div class="row px-3 mt-3">
											<h1>When would you like to travel?</h1>
							
											<!-- <div class="form-group mt-1 mb-1"> <input type="password" id="pwd" class="form-control" required> <label class="ml-3 form-control-placeholder" for="pwd">Password</label> </div> -->
                                            <h5  style = 'margin-top: 50px; '> Start Date </h5>
											<input id ='startdate' class='form-group mt-1 mb-1' type="date" data-date-inline-picker="true"  style= 'margin-right:50px; padding:30px 30px;  margin-bottom:50px !important; width:400px !important' /> 
                                            <h5  style = 'margin-top: 20px; '> End Date </h5>
                                            <input id = 'enddate' class='form-group mt-1 mb-1' type="date" data-date-inline-picker="true"  style= 'margin-right:50px; padding:30px 30px; margin-top:10px  !important; margin-bottom:50px !important; width:400px !important' /> 
											<div class="next-button text-center mt-1 ml-2" style='float:right'> <span class="fa fa-arrow-right"></span> </div>
										</div>
										<div class="row mt-3 mb-5">
											<div class="col-12">
												<p class="mb-1"></p>
											   </div>
										</div>
										
									</div>
									<div class="card2 ml-2">
										<div class="row px-3 mt-3">
											<h1>Is there a special occasion for your visit?</h1>
											<div class="form-group mt-3 mb-4 " >
												<div class="group">
													<input type="radio" name="rb" id="rb1" />
													<label for="rb1">Friends Trip</label>
													<input type="radio" name="rb" id="rb2" />
													<label for="rb2">Road Trip</label>
													<input type="radio" name="rb" id="rb3" />
													<label for="rb3">Solo Trip</label>
													<input type="radio" name="rb" id="rb4" />
													<label for="rb4">Cruise</label>
												  </div>
												  <div class="group">
													<input type="radio" name="rb" id="rb5" />
													<label for="rb5">Festival</label>
													<input type="radio" name="rb" id="rb6" />
													<label for="rb6">Anniversary</label>
													<input type="radio" name="rb" id="rb7" />
													<label for="rb7">Honeymoon</label>
													<!-- <input type="radio" name="rb" id="rb8" />
													<label for="rb8">Family Vacation</label>
													<input type="radio" name="rb" id="rb9" />
													<label for="rb9">Other</label> -->
												  </div>
												
											</div>
											<div class="next-button text-center mt-3 ml-2"> <span class="fa fa-arrow-right"></span> </div>
										</div>
									</div>
									<div class="card2 ml-2">
										<div class="row px-3 mt-3">
											<h1>How many people are going on the trip?</h1>
											<div class="form-group mt-3 mb-4">
												<div class="select mb-3">
													<div class='group'>
														<button type="button" class="decrement-btn" style='
                                                        color: #222;
														width:100px;
														margin-left:30px;
														background: none;
														font-size:20px;
														margin-right:30px'>-</button>
														
														<input type="text" class="counter" value="1" style='overflow: visible;
														border: none;
														margin: 0px;
														width: 30px;
														font-weight:500;
														font-size: 22px;
														color: black'/>
														<span style='font-size: 22px;font-weight:500'> Adults</span>
														<button type="button" class="increment-btn" style='
                                                        color: #222;
														width:100px;
														margin-left:30px;
														background: none;
														font-size:20px;
														margin-right:30px'>+</button>
													</div>
													<div class="group">
													<button type="button" class="decrement-btn1" style='
                                                    color: #222;
													width:100px;
													margin-left:30px;
													background: none;
													font-size:20px;
													margin-right:30px'>-</button>
													
													<input type="text" class="counter1" value="1" style='overflow: visible;
													border: none;
													margin: 0px;
													width: 30px;
													font-weight:500;
													font-size: 22px;
													color: black'/>
													<span style='font-size: 22px;font-weight:500'> Children</span>
													<button type="button" class="increment-btn1" style='
                                                    color: #222;
													width:100px;
													margin-left:30px;
													background: none;
													font-size:20px;
													margin-right:30px'>+</button>
												</div>  
												</div>
											</div>
											<div class="next-button text-center mt-3 ml-2"> <span class="fa fa-arrow-right"></span> </div>
										</div>
									</div>
									<div class="card2 ml-2">
										<div class="row px-3 mt-3">
											<h1>Whatâ€™s the budget for your trip?</h1>
											
											<div class="form-group mt-3 mb-4">
												<div class="select mb-3"> 
													<h2> Excluding flights</h2>
													<div class="group" >
                                                        <h6 style= 'margin-right:15px'>Min. Budget</h6>
														<input type="radio" name="rbv" id="rbv1"  value='100'/>
														<label for="rbv1">$1000</label>
														<input type="radio" name="rbv" id="rbv2" value='200'/>
														<label for="rbv2">$2000</label>
														<input type="radio" name="rbv" id="rbv3" value='300'/>
														<label for="rbv3">$3000</label>
														<input type="radio" name="rbv" id="rbv4" value='500'/>
														<label for="rbv4">$5000</label>
														<input type="radio" name="rbv" id="rbv5" value='600'/>
														<label for="rbv5">$6000</label>
														<input type="radio" name="rbv" id="rbv6" value='900'/>
														<label for="rbv6">$9000</label>
														
													  </div> 
                                                    
                                                      <div class="group" >
                                                          <h6 style= 'margin-right:15px'>Max. Budget</h6>
														<input type="radio" name="rbv1" id="rbv11" value='190'/>
														<label for="rbv11">$1900</label>
														<input type="radio" name="rbv1" id="rbv12" value='290'/>
														<label for="rbv12">$2900</label>
														<input type="radio" name="rbv1" id="rbv13" value='390'/>
														<label for="rbv13">$3900</label>
														<input type="radio" name="rbv1" id="rbv14" value='690'/>
														<label for="rbv14">$6900</label>
														<input type="radio" name="rbv1" id="rbv15" value='790'/>
														<label for="rbv15">$7900</label>
														<input type="radio" name="rbv1" id="rbv16" value='990'/>
														<label for="rbv16">$9900</label>
														
													  </div> 
                                                    
                                                    </div>
											</div>
											<div class="next-button text-center mt-3 ml-2"> <span class="fa fa-arrow-right"></span> </div>
										</div>
									</div>
									<div class="card2 ml-2">
										<div class="row px-3 mt-3">
											<h1>What do you want to do there?</h1>

                                            <span> Please select atleast 5</span>
											<div class="form-group mt-3 mb-4 " >
												<div class="group">
													<input type="checkbox" name="cb" id="cb10" value='Private and Custom Tours'/>
													<label class = 'tiny'  for="cb10">Private and Custom Tours</label>
													<input type="checkbox" name="cb" id="cb2" value='Food Wine & Nightlife' />
													<label class = 'tiny'  for="cb2" >Food Wine & Nightlife</label>
													<input type="checkbox" name="cb" id="cb3" value='Day Trips and Excursion'/>
													<label class = 'tiny'  for="cb3" >Day Trips and Excursion</label>
													
												</div>
												<div class="group">
													<input type="checkbox" name="cb" id="cb5" value='Luxury & Special Occassion'/>
													<label class = 'tiny'  for="cb5" >Luxury & Special Occassion</label>
													<input type="checkbox" name="cb" id="cb6" value='Air/Helicoptor & Hot air Balloon'/>
													<label class = 'tiny'  for="cb6">Air/Helicoptor & Hot air Balloon</label>
													<input type="checkbox" name="cb" id="cb7" value='Tours & Sightseeing'/>
													<label class = 'tiny' for="cb7">Tours & Sightseeing</label>
													<input type="checkbox" name="cb" id="cb8" value ='Family Friendly'/>
													<label class ='tiny'  for="cb8">Family Friendly</label>
													
												</div>
												<div class="group">
                                                    <input type="checkbox" name="cb" id="cb4" value='Sightseeing tickits '/>
													<label class = 'tiny' for="cb4">Sightseeing tickits </label>
                                                    <input type="checkbox" name="cb" id="cb1" value ='Holiday and Seasonal Tours'/>
													<label class = 'tiny' for="cb1">Holiday and Seasonal Tours</label>
													
													<input type="checkbox" name="cb" id="cb11"  value ='Recommended Experience'/>
													<label class = 'tiny' for="cb11">Recommended Experience</label>
													
										
                        
												  </div>
                                                  <div class=" group">
                                                    <input type="checkbox" name="cb" id="cb12" value ='Culture & Theme'/>
													<label class = 'tiny' for="cb12">Culture & Theme</label>
                                                    <input type="checkbox" name="cb" id="cb13"  value='Walking/Cycling & biking'/>
													<label class = 'tiny' for="cb13">Walking/Cycling & biking</label>
                                                    <input type="checkbox" name="cb" id="cb9" value='Water Sports'/>
													<label class = 'tiny' for="cb9">Water Sports</label>
                                                  </div>
                                                  <div class="group">
                                                    <input type="checkbox" name="cb" id="cb14" value ='Shows Concerts & Sports' />
													<label class = 'tiny' for="cb14">Shows Concerts & Sports </label>
                                                    <input type="checkbox" name="cb" id="cb15" value ='Outdoor Activites'/>
													<label class = 'tiny' for="cb15">Outdoor Activites</label>
													
													<input type="checkbox" name="cb" id="cb16" value='Classes & Workshop'/>
													<label class = 'tiny' for="cb16">Classes & Workshop</label>
													
										
												  </div>
                                                 
											</div>
                                            <button id = 'preferences' onclick="get_arr()"> Select Preferences </button>
                                            <ul id ='ratings' style= 'margin-top: 50px;'>

                                            </ul>
											<div class="next-button text-center mt-3 ml-2"> <span class="fa fa-arrow-right"></span> </div>
										</div>
									</div>
									<div class="card2 ml-2">
										<div class="row px-3 mt-2 mb-4 text-center">
											<h2 class="col-12 text-danger" id ='submithead'><strong>Your Travel Profile is Created !</strong></h2>
											<!-- <div class="col-12 text-center"><img class="tick" src="https://i.imgur.com/WDI0da4.gif"></div> -->
                                            
                                            <div class = 'loader' id = 'loader'>
                                                <div class = 'leo-border-1' id='submitbtn' style= 'animation-play-state: paused;margin-left:250px;margin-top: 100px;' onclick="submit()" type='submit'> Submit</div>
                                                <div class="spinner-box" id='loading' style="margin-left:250px; display:none; margin-top: 100px;">
                                                  <div class="leo-border-1">
                                                    <div class="leo-core-1"></div>
                                                  </div> 
                                                  <div class="leo-border-2">
                                                    <div class="leo-core-2"></div>
                                                  </div> 
                                                </div>
                                                <h3 class="col-12 mt-2" id = 'submittag'> Click Submit to Get Recommendation</h3>
                                                <div class = 'col-12 mt-2' id = 'disp'> </div>
                                                </div>
                                                
										</div>
									</div>
								</div>
							</div>
						</div>
						<div class="col-12">
							<div class="row px-3">
								<h2 class="text-muted get-bonus mt-4 mb-5">Get your <span class="text-danger" style="font-size: 2rem;">personalized</span> travel plan</h2> 
							</div>
						</div>
					</div>
				</div>
			</div>
            </form>
		</div>
  <div class = 'col-12 lg ' id ='results' style = 'width:100%; background-color: #7498b081; display:none; '>  
    
      <!-- <button id='submitbtn' style= 'animation-play-state: paused;margin-left:250px;margin-top: 100px;' onclick="submit()" type='submit'> Submit</button>
     
    <div class="card_row">
      <div class="card_column">
        <div class="card">RUPA</div>
      </div>
      <div class="card_column">
        <div class="card">.RU.</div>
      </div>
      <div class="card_column">
        <div class="card">..</div>
      </div>
      <div class="card_column">
        <div class="card">..</div>
      </div>
    </div> 
    <div class="card_row">
      <div class="card_column">
        <div class="card">RUPA</div>
      </div>
      <div class="card_column">
        <div class="card">.RU.</div>
      </div>
      <div class="card_column">
        <div class="card">..</div>
      </div>
      <div class="card_column">
        <div class="card">..</div>
      </div>
    </div>  -->
  </div>
    
  </div>
	</div>
</div>
<script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js' />
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
        <script type="text/javascript"> 
            
        function get_dest() {
            province = document.getElementById("province").value;
            console.log('inside the func:', province)
            return province
        }



function get_arr() {    
var array = []
categories = []
for(let i =1; i<17;i++){
    if(document.getElementById('cb'+ i.toString()).checked){
        categories.push(document.getElementById('cb'+ i.toString()).value)
    }
}
let list = document.getElementById('ratings')
list.innerHTML = ''
let heading = document.createElement('h3')
heading.innerText = 'Rate Your Preferences on scale of 1-5'
list.appendChild(heading)
let c =0
categories.forEach((item)=>{
  let li = document.createElement("li");
  li.innerText = item;
  list.appendChild(li);
  let div = document.createElement("div");
  c+=1
  div.innerHTML += `<input id ='ranger${c}' type="range" min =1 max =5 > </input>`
  list.appendChild(div);
})


button = document.getElementById('preferences')
button.innerText = 'Change Preferences'
}

function submit(){

var location = document.getElementById('province').value;
var days  = new Date(document.getElementById('enddate').value).getTime()  -  new Date(document.getElementById('startdate').value).getTime() 
days = days/(1000*3600*24)
let low = 100
let high = 990
for(var i =1; i<7;i++){
    if(document.getElementById('rbv'+ i.toString()).checked){
        low = document.getElementById('rbv'+ i.toString()).value
    }
    if(document.getElementById('rbv1'+ i.toString()).checked){
        high = document.getElementById('rbv1'+ i.toString()).value
    }
}
categories = []
for(let i =1; i<17;i++){
    if(document.getElementById('cb'+ i.toString()).checked){
        categories.push(document.getElementById('cb'+ i.toString()).value)
    }
}
let ratings = []

console.log(categories)
for(let i =1; i< categories.length+1; i++){
    ratings.push(parseInt(document.getElementById(`ranger${i}`).value))
}
cat_rating = {}
for(let i =0; i <= categories.length; i++ ){
    cat_rating[categories[i]] = ratings[i]
}
console.log('PP',cat_rating)
let payload = {
    'location':location,
    'days':days,
    'low':low,
    'high':high,
    'cat_rating':cat_rating
}
btn = document.getElementById('submitbtn')
btn.style.display ='none'

loading = document.getElementById('loading')
loading.style.display = 'block'
tag = document.getElementById('submittag')
tag.innerText='... Please Wait ...(usually takes a min)'
heading = document.getElementById('submithead')
heading.innerHTML = '<strong> Generating Reccomendations </strong>'
console.log(payload)
create_post(payload)
}

$('#post-form').on('submit', function(event){
    event.preventDefault();
    console.log("form submitted!")  // sanity check
    // create_post(payload);
});

function create_post(payload) {
    console.log("create post is working!") // sanity check
    
    $.ajaxSetup({
  data: {csrfmiddlewaretoken: '{{ csrf_token }}' },
});
    $.ajax({
        url : "/survey/", // the endpoint
        type : "POST", // http method

        data : JSON.stringify(payload), // data sent with the post request
        //
        // handle a successful response
        success : function(json) {
            // $('#post-text').val(''); // remove the value from the input
            console.log(json); // log the returned json to the console
            console.log("success"); // another sanity check
            loading = document.getElementById('loading')
            loading.style.display = 'none'

            heading = document.getElementById('submithead')
            heading.innerHTML = '<strong> Your Personalized Reccomendations </strong>'
            tag = document.getElementById('submittag')
            //tag.innerText=json['content']['name'][0]


         // payload = {'timeofday': ['Morning', 'Morning', 'Evening', 'Evening', 'Morning', 'Morning', 'Evening', 'Evening', 'Morning', 'Morning', 'Evening', 'Evening', 'Morning', 'Morning', 'Evening', 'Evening', 'Morning', 'Morning', 'Evening', 'Evening', 'Morning', 'Morning', 'Evening', 'Evening', 'Morning', 'Morning', 'Evening', 'Evening'], 'image': ['https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR49EmkMsAha_Pjf4aCE166RNdfM2rtJ3dRnUJav7LWST-ZZH8R4Cx-pY3tBA&s', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ9GDZpBwfidyh1Rv-RBXFyctStJH0ySBrxmbUnr0yE1OZzF-IJh_pUgYvkkA&s', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ7V9AGHkBvNFmRcyxBszYPMEy5-vCwuGNnWd8TIc92w1MdaUElgLIhqmdVNg&s', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQgzK5Y5xTWri6RA_9p7Y_0U9fu6z0cYIL3IkN5QxQyuapBPuyxzx8kiVEMvg&s', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTk7TzOb5aOPnI27MxMevSo_jtvSxJo-AwPO6zmLEGgbkAQ21Jot60lP5T_pD8&s', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRePOFsK_UDkj49cbmWxzK5dNDWO4i8YPWAvwxo9rMdFCMrDDNfOlRApSUkv1c&s', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSE9PPurYuunkMlj7ZPlH3igK6tGenDlgz-QucQ89-FpThrmpk4J9MPn7qoiQ&s', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR-3p-1xqx1Xj2TuRXkzHRDMc6kHXaxtceQbOZK76WABpPEQaFJgPTzSEchrw&s', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTNu6iNwPKRJS-gro_yJrrJqmNDuj9HGUIRZROp7butnD2libJ5HcXgeUBQfP0&s', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS2f6gjQteAewSl1Ji5VC3cEMrVDIxyAZcjigzeUpL6rm6htA6x8xhJVahgPQ&s', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTD6MURK1fXT2l_JPKq8pDjFN3Rh19bpy3YmalaA9-fiatXyfpDg3MGkV6CKSU&s', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSwDhCGpT_XCrMWuu5wthcmS2sjNz58_u5UfDM3A1EWmCe0yAdvKq1_VIyWTw&s', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTN3Pcxc2ZytH3-Xu9uD7p1sABkAgpUPp0CFjQyLjYo0dIBl4UXjDATmSkp4pI&s', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTHggBeyaHj4KehWFb_qXc2nvhU1JzR9RVScDMf3cQyaLn8nKsznlp-hMhMt0M&s'], 'name': ['rockies_classic_4-day_summer_tour', 'rockies_classic_4-day_winter_tour', 'viator_exclusive:_2-day_victoria_and_butchart_gardens_tour_with_overnight_at_the_fairmont_empress', 'vancouver_island_atv_tour', 'whistler_exotic_car_driving_experience', 'rockies_adventure_4-day_summer_tour', 'vancouver_to_victoria_whale_watching_with_return_to_vancouver_by_seaplane', 'gulf_islands_kayak_and_seaplane_adventure', 'private_salmon_fishing_charter_from_vancouver_for_up_to_4_people', 'the_ultimate_group_package_deal_of_victoria', 'private_instagramming_tour_in_vancouver', '3-day_tenquille_lake_expedition', 'vancouver_full_day_private_tour', '120_minute_private_vacation_photography_session_with_local_photographer_in_vancouver'], 'location': [[49.2869224548, -123.1221618652], [49.2869224548, -123.1221618652], [49.2846107483, -123.1084747314], [49.2642745972, -124.7592926025], [49.3590698242, -123.2670211792], [49.2869224548, -123.1221618652], [49.2847518921, -123.1394805908], [49.2847518921, -123.1394805908], [49.2024726868, -123.1445770264], [38.8258628845, -76.919593811], [56.1303672791, -106.3467712402], [50.3613166809, -122.8502731323], [49.260219574, -123.020111084], [48.4283294678, -123.3691940308]], 'price': [687.0, 547.0, 631.54, 627.9, 887.25, 708.0, 569.0, 629.0, 749.77, 650.0, 567.12, 532.2299804688, 920.0, 886.09], 'rating': [4.5, 4.5, 5.0, 5.0, 5.0, 5.0, 4.5, 5.0, 5.0, 5.0, 4.5, 5.0, 3.5, 5.0], 'category': ['tours_&_sightseeing', 'holiday_&_seasonal_tours', 'recommended_experiences', 'day_trips_&_excursions', 'recommended_experiences', 'outdoor_activities', 'water_sports', 'family_friendly', 'water_sports', 'day_trips_&_excursions', 'tours_&_sightseeing', 'multi-day_&_extended_tours', 'private_&_custom_tours', 'private_&_custom_tours']}
//js = {'name': [['Rockies classic 4-day summer tour', 'Rockies classic 4-day winter tour', 'Viator exclusive: 2-day victoria and butchart gardens tour with overnight at the fairmont empress', 'Vancouver island atv tour'], ['Whistler exotic car driving experience', 'Rockies adventure 4-day summer tour', 'Vancouver to victoria whale watching with return to vancouver by seaplane', 'Gulf islands kayak and seaplane adventure'], ['Private salmon fishing charter from vancouver for up to 4 people', 'The ultimate group package deal of victoria', 'Private instagramming tour in vancouver', '3-day tenquille lake expedition']], 'image': [['https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR49EmkMsAha_Pjf4aCE166RNdfM2rtJ3dRnUJav7LWST-ZZH8R4Cx-pY3tBA&s', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ9GDZpBwfidyh1Rv-RBXFyctStJH0ySBrxmbUnr0yE1OZzF-IJh_pUgYvkkA&s', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ7V9AGHkBvNFmRcyxBszYPMEy5-vCwuGNnWd8TIc92w1MdaUElgLIhqmdVNg&s', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQgzK5Y5xTWri6RA_9p7Y_0U9fu6z0cYIL3IkN5QxQyuapBPuyxzx8kiVEMvg&s'], ['https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTk7TzOb5aOPnI27MxMevSo_jtvSxJo-AwPO6zmLEGgbkAQ21Jot60lP5T_pD8&s', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRePOFsK_UDkj49cbmWxzK5dNDWO4i8YPWAvwxo9rMdFCMrDDNfOlRApSUkv1c&s', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSE9PPurYuunkMlj7ZPlH3igK6tGenDlgz-QucQ89-FpThrmpk4J9MPn7qoiQ&s', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR-3p-1xqx1Xj2TuRXkzHRDMc6kHXaxtceQbOZK76WABpPEQaFJgPTzSEchrw&s'], ['https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTNu6iNwPKRJS-gro_yJrrJqmNDuj9HGUIRZROp7butnD2libJ5HcXgeUBQfP0&s', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS2f6gjQteAewSl1Ji5VC3cEMrVDIxyAZcjigzeUpL6rm6htA6x8xhJVahgPQ&s', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTD6MURK1fXT2l_JPKq8pDjFN3Rh19bpy3YmalaA9-fiatXyfpDg3MGkV6CKSU&s', 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSwDhCGpT_XCrMWuu5wthcmS2sjNz58_u5UfDM3A1EWmCe0yAdvKq1_VIyWTw&s']], 'price': [['687.0', '547.0', '631.54', '627.9'], ['887.25', '708.0', '569.0', '629.0'], ['749.77', '650.0', '567.12', '532.2299804688']], 'rating': [['4.5', '4.5', '5.0', '5.0'], ['5.0', '5.0', '4.5', '5.0'], ['5.0', '5.0', '4.5', '5.0']], 'category': [['Tours & sightseeing', 'Holiday & seasonal tours', 'Recommended experiences', 'Day trips & excursions'], ['Recommended experiences', 'Outdoor activities', 'Water sports', 'Family friendly'], ['Water sports', 'Day trips & excursions', 'Tours & sightseeing', 'Multi-day & extended tours']], 'location': [['(49.2869224548,-123.1221618652)', '(49.2869224548,-123.1221618652)', '(49.2846107483,-123.1084747314)', '(49.2642745972,-124.7592926025)'], ['(49.3590698242,-123.2670211792)', '(49.2869224548,-123.1221618652)', '(49.2847518921,-123.1394805908)', '(49.2847518921,-123.1394805908)'], ['(49.2024726868,-123.1445770264)', '(38.8258628845,-76.919593811)', '(56.1303672791,-106.3467712402)', '(50.3613166809,-122.8502731323)']]}


            results = document.getElementById('disp')
            
            days = json['content']['category'].length
            places = days.length
            resp = json['content']
            m = document.getElementById('qwerty')
            m.style.display = 'none'
            res = document.getElementById('results')
            res.style.display = 'block'

      //        <div class="card_row">
      // <div class="card_column">
      //   <div class="card">RUPA</div>
      // </div>
            row = document.createElement('div')
            let ht = '<h1> Your Personalized Recommendations </h1>'
            for(let day =0; day < days;day++){
              if (json['content']['location'][day].length ===4){
              arr1 = json['content']['location'][day][0].slice(1,json['content']['location'][day][0].length-1).split(',')
              arr2 = json['content']['location'][day][1].slice(1,json['content']['location'][day][0].length-1).split(',')
              arr3 = json['content']['location'][day][2].slice(1,json['content']['location'][day][0].length-1).split(',')
              arr4 = json['content']['location'][day][3].slice(1,json['content']['location'][day][0].length-1).split(',')
              console.log(arr1[0],arr1[1])
              }
              ht += '<div class="card_row">'
                // ht +=  `<h2 class="col-12 text-danger" id ='submithead' style='padding-top:50px; padding-bottom:20px'><strong> Day ${day +1}</strong></h2>`
              ht += '<div class="card_column">'
              ht+=  `<div class="card"> <ul>
                <img src = ${json['content']['image'][day][0]} alt ='' />
               <a href= http://www.google.com/maps/place/${arr1[0]},${arr1[1]}><li  class= 'result_list' style='padding-top:10px'><strong style= 'color:#dc3545; font-weight:bold'> ${json['content']['name'][day][0]} </strong></li> </a>
                <li class= 'result_list'> ${json['content']['category'][day][0]}</li> 
                <li class= 'result_list'> ${json['content']['rating'][day][0]} <i class="fa fa-star" style='color:#FDCC0D'> </i></li> 
                <li class= 'result_list'>$ ${json['content']['price'][day][0]} </i></li> 
                
               </ul> </div></div>`
               if(json['content']['category'][day][1].length === 0 ){
                break
              }
              ht += '<div class="card_column">'
              ht+=  `<div class="card"> 
                <ul>
                <img src = ${json['content']['image'][day][1]} alt ='' />
               <a href= http://www.google.com/maps/place/${arr2[0]},${arr2[1]}><li  class= 'result_list' style='padding-top:10px' > <strong style= 'color:#dc3545; font-weight:bold'>  ${json['content']['name'][day][1]} </strong></li> </a>
                <li class= 'result_list'> ${json['content']['category'][day][1]}</li> 
                <li class= 'result_list'> ${json['content']['rating'][day][1]} <i class="fa fa-star" style='color:#FDCC0D'> </i></li> 
                <li class= 'result_list'>$ ${json['content']['price'][day][1]} </i></li> 
                
               </ul> </div></div>`
              if(json['content']['category'][day][2].length === 0 ){
                break
              }
              ht += '<div class="card_column">'
              ht+=  `<div class="card"> 
                <ul>
                <img src = ${json['content']['image'][day][2]} alt ='' />
               <a href= http://www.google.com/maps/place/${arr3[0]},${arr3[1]}><li  class= 'result_list' style='padding-top:10px' ><strong style= 'color:#dc3545; font-weight:bold'>  ${json['content']['name'][day][2]} </strong></li> </a>
                <li class= 'result_list'> ${json['content']['category'][day][2]}</li> 
                <li class= 'result_list'> ${json['content']['rating'][day][2]} <i class="fa fa-star" style='color:#FDCC0D'> </i></li> 
                <li class= 'result_list'>$ ${json['content']['price'][day][2]} </i></li> 
                
               </ul> </div></div>`
               if(json['content']['category'][day][3].length === 0 ){
                break
              }
              ht += '<div class="card_column">'
              ht+=  `<div class="card"> 
                <ul>
                <img src = ${json['content']['image'][day][3]} alt ='' />
               <a href= http://www.google.com/maps/place/${arr4[0]},${arr4[1]}><li  class= 'result_list' style='padding-top:10px' ><strong style= 'color:#dc3545; font-weight:bold'>  ${json['content']['name'][day][3]}</strong></li> </a>
                <li class= 'result_list'> ${json['content']['category'][day][3]}</li> 
                <li class= 'result_list'> ${json['content']['rating'][day][3]} <i class="fa fa-star" style='color:#FDCC0D'> </i></li> 
                <li class= 'result_list'>$ ${json['content']['price'][day][3]} </i></li> 
                
               </ul> </div></div>`
              ht+= '</div>'
            }
            
            //res.innerHTML  = `<div class="card_row"><div class="card_column"><div class="card">RUPA</div></div>`
            res.innerHTML = ht
            

          
        },

        // handle a non-successful response
        error : function(xhr,errmsg,err) {
            $('#results').html("<div class='alert-box alert radius' data-alert>Oops! We have encountered an error: "+errmsg+
                " <a href='#' class='close'>&times;</a></div>"); // add the error to the dom
            console.log(xhr.status + ": " + xhr.responseText); // provide a bit more info about the error to the console
        }
    });
};


            $(document).ready(function(){

                var current_fs, next_fs, previous_fs;

                var $button = document.querySelector('.increment-btn');
                var $counter = document.querySelector('.counter');
                var $button1 = document.querySelector('.decrement-btn');
                var $counter1 = document.querySelector('.counter1');
                var $button2 = document.querySelector('.increment-btn1');
                var $button3 = document.querySelector('.decrement-btn1');

    
                $button.addEventListener('click', function(){
                    $counter.value = parseInt($counter.value) + 1; // `parseInt` converts the `value` from a string to a number
                  }, false);
                
                  $button1.addEventListener('click', function(){
                    $counter.value = parseInt($counter.value) - 1; // `parseInt` converts the `value` from a string to a number
                  }, false);

                  $button2.addEventListener('click', function(){
                    $counter1.value = parseInt($counter1.value) + 1; // `parseInt` converts the `value` from a string to a number
                  }, false);
                
                  $button3.addEventListener('click', function(){
                    $counter1.value = parseInt($counter1.value) - 1; // `parseInt` converts the `value` from a string to a number
                  }, false);
                // No BACK button on first screen
                if($(".show").hasClass("first-screen")) {
                $(".prev").css({ 'display' : 'none' });
                }
                
                // Next button
                $(".next-button").click(function(){
                console.log('hi')
                current_fs = $(this).parent().parent();
                next_fs = $(this).parent().parent().next();
                
                $(".prev").css({ 'display' : 'block' });
                
                $(current_fs).removeClass("show");
                $(next_fs).addClass("show");
                
                $("#progressbar li").eq($(".card2").index(next_fs)).addClass("active");
                
                current_fs.animate({}, {
                step: function() {
                
                current_fs.css({
                'display': 'none',
                'position': 'relative'
                });
                
                next_fs.css({
                'display': 'block'
                });
                }
                });
                });
                
                // Previous button
                $(".prev").click(function(){
                
                current_fs = $(".show");
                previous_fs = $(".show").prev();
                
                $(current_fs).removeClass("show");
                $(previous_fs).addClass("show");
                
                $(".prev").css({ 'display' : 'block' });
                
                if($(".show").hasClass("first-screen")) {
                $(".prev").css({ 'display' : 'none' });
                }
                
                $("#progressbar li").eq($(".card2").index(current_fs)).removeClass("active");
                
                current_fs.animate({}, {
                step: function() {
                
                current_fs.css({
                'display': 'none',
                'position': 'relative'
                });
                
                previous_fs.css({
                'display': 'block'
                });
                }
                });
                });
                
                });
        </script>
{% endblock %}

